(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[563],{738:function(e,o,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/caption-generator",function(){return a(2844)}])},6488:function(e,o,a){"use strict";var l=a(5893),i=a(7893),s=a.n(i),n=a(3967),t=a.n(n);o.Z=e=>{let{className:o}=e;return(0,l.jsx)("svg",{className:s().spinner,viewBox:"0 0 50 50",children:(0,l.jsx)("circle",{className:t()(s().path,o),cx:"25",cy:"25",r:"20",strokeWidth:"3"})})}},8646:function(e,o,a){"use strict";var l=a(5893),i=a(7294),s=a(6662),n=a.n(s),t=a(7066),r=a(6488);o.Z=e=>{let{setDownloadURL:o,setVideoTitle:a,setVideoCaptions:s,setAudioURL:d}=e,[c,u]=(0,i.useState)(""),[b,h]=(0,i.useState)(!1),p=()=>h(!0),m=()=>h(!1),_=(0,i.useMemo)(()=>{let e=c.match(/^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|\&v=|\?v=)([^#\&\?]*).*/);return e},[c]),v=(0,i.useCallback)(async()=>{p(),t.Z.post("/api/videos/youtubeUpload",{youtubeURL:c}).then(e=>{console.log("????????",e),a(e.data.title),o(e.data.downloadURL),s&&s(e.data.subtitles),d&&d(e.data.audioURL)}).finally(m)},[d,o,s,a,c]);return(0,l.jsxs)("div",{className:n().inputPaper,children:[(0,l.jsx)("h4",{children:"Please enter a proper Youtube URL"}),(0,l.jsxs)("div",{className:n().actions,children:[(0,l.jsx)("input",{placeholder:"youtube.com/watch?v=yOu-TuBe_42",onChange:e=>{u(e.currentTarget.value)},value:c,disabled:b}),b?(0,l.jsx)("div",{className:n().loadingContainer,children:(0,l.jsx)(r.Z,{className:n().spinner})}):(0,l.jsx)("button",{className:_?n().submitButton:n().disabledButton,onClick:v,children:"Upload"})]})]})}},8531:function(e,o,a){"use strict";a.d(o,{Z:function(){return _}});var l=a(5893),i=a(7294),s=a(7489),n=a(3967),t=a.n(n),r=a(5799),d=a.n(r),c=a(2075),u=a(4841),b=a.n(u),h=e=>{let{value:o,className:a,progressBar:i,onChange:s,onChangeComitted:n}=e;return(0,l.jsxs)("div",{className:t()(b().slideContainer,a),children:[(0,l.jsx)("span",{className:t()(b().progress,i?b().progressBar:""),style:{width:"".concat((o?o/100:0)*100,"%")}}),(0,l.jsx)("input",{type:"range",min:"0",max:"100",value:null!=o?o:0,className:t()(b().slider,i?b().progressBar:""),onInput:e=>s(parseInt(e.currentTarget.value)),onMouseUp:n?e=>n(parseInt(e.currentTarget.value)):void 0})]})},p=a(5434);let m=e=>e>9?e.toString():e>0?"0".concat(e):"00";var _=e=>{var o,a;let{url:n,className:r,videoRef:u,timeElapsed:b,setTime:_}=e,[v,g]=(0,i.useState)(!1),[f,x]=(0,i.useState)(100),[y,k]=(0,i.useState)(0),[j,C]=(0,i.useState)(!1),[w,S]=(0,i.useState)(null),[N,T]=(0,i.useState)(!1),B=(0,i.useRef)(null),P=(0,i.useCallback)(()=>{var e,o;v?(g(!1),null===(e=u.current)||void 0===e||e.pause()):(g(!0),null===(o=u.current)||void 0===o||o.play())},[v,u]),V=()=>{s.Z.toggle(B.current)};(0,i.useEffect)(()=>{let e=e=>{e.preventDefault(),"Space"===e.code&&P();let o=u.current.currentTime,a=u.current.duration;if("ArrowRight"===e.code){let e=o+3;e>a?(u.current.currentTime=a,u.current.pause(),g(!1),_(a)):(u.current.currentTime=e,_(e))}if("ArrowLeft"===e.code){let e=o-3;e<0?(u.current.currentTime=0,_(0)):(u.current.currentTime=e,_(e))}},o=()=>T(s.Z.isFullscreen);return window.addEventListener("keydown",e),s.Z.on("change",o),()=>{window.removeEventListener("keydown",e),s.Z.off("change",o)}},[N,_,P,u]),(0,i.useEffect)(()=>{if(u&&v&&!j){w&&clearInterval(w);let e=setInterval(()=>{_(u.current.currentTime)},25);return S(e),()=>clearInterval(e)}w&&clearInterval(w),S(null)},[j,v]);let U=(0,i.useCallback)(e=>{x(e),u.current.volume=e/100},[u]),A=(0,i.useCallback)(e=>{let o=e/100*u.current.duration;u.current.currentTime=o,_(o)},[u]),L=-1===y?"--":m(Math.round(y%60)),M=m(Math.floor((null!=b?b:0)%60));return(0,l.jsxs)("div",{className:t()(r,d().root),ref:B,onDoubleClick:V,children:[(0,l.jsx)("div",{className:d().backdrop,onClick:P}),(0,l.jsx)("video",{src:n,ref:u,onLoadedMetadata:e=>k(e.currentTarget.duration)}),(0,l.jsxs)("div",{className:d().controls,children:[(0,l.jsx)(h,{className:d().progressBar,progressBar:!0,value:b/(null===(o=u.current)||void 0===o?void 0:o.duration)*100,onChange:A}),(0,l.jsxs)("div",{className:d().leftControls,children:[(0,l.jsx)(c.Z,{onClick:P,className:d().playButton,children:v?(0,l.jsx)(p.hPq,{}):(0,l.jsx)(p.Nhx,{})}),(0,l.jsx)("div",{className:d().volumeContainer,children:(0,l.jsx)(h,{value:f,onChange:U})}),(0,l.jsxs)("p",{children:[Math.floor((null!=b?b:0)/60),":",M," / ",-1===y?"--":Math.floor(y/60),":",L]})]}),(0,l.jsx)(c.Z,{className:d().fullscreenButton,onClick:V,children:s.Z.isFullscreen?(0,l.jsx)(p.bAO,{}):(0,l.jsx)(p.yvD,{})})]})]})}},8294:function(e,o,a){"use strict";a.d(o,{OY:function(){return n},wJ:function(){return t}});var l=a(6042),i=a(6650);let s=()=>(0,i.cF)(l.app,"gs://erik-dev-uploaded-videos"),n=e=>(0,i.iH)(s(),e),t=async e=>await (0,i.Br)(e)},2844:function(e,o,a){"use strict";a.r(o),a.d(o,{default:function(){return w}});var l=a(5893),i=a(7294),s=a(9458),n=a.n(s),t=[{label:"Afrikaans",code:"af",iso:"afr"},{label:"Albanian",code:"sq",iso:"sqi"},{label:"Amharic",code:"am",iso:"amh"},{label:"Arabic",code:"ar",iso:"ara"},{label:"Armenian",code:"hy",iso:"hye"},{label:"Assamese",code:"as",iso:"asm"},{label:"Aymara",code:"ay",iso:"aym"},{label:"Azerbaijani",code:"az",iso:"aze"},{label:"Bambara",code:"bm",iso:"bam"},{label:"Basque",code:"eu",iso:"eus"},{label:"Belarusian",code:"be",iso:"bel"},{label:"Bengali",code:"bn",iso:"ben"},{label:"Bhojpuri",code:"bho",iso:"bho"},{label:"Bosnian",code:"bs",iso:"bos"},{label:"Bulgarian",code:"bg",iso:"bul"},{label:"Catalan",code:"ca",iso:"cat"},{label:"Cebuano",code:"ceb",iso:"ceb"},{label:"Chinese (Simplified)",code:"zh",iso:"zho"},{label:"Chinese (Traditional)",code:"zh-TW",iso:"zh-TW"},{label:"Corsician",code:"co",iso:"cos"},{label:"Croatian",code:"hr",iso:"hrv"},{label:"Czech",code:"cs",iso:"ces"},{label:"Danish",code:"da",iso:"dan"},{label:"Dhivehi",code:"dv",iso:"div"},{label:"Dogri",code:"doi",iso:"doi"},{label:"Dutch",code:"nl",iso:"nld"},{label:"English",code:"en",iso:"eng"},{label:"Esperanto",code:"eo",iso:"epo"},{label:"Estonian",code:"et",iso:"est"},{label:"Ewe",code:"ee",iso:"ewe"},{label:"Filipino",code:"fil",iso:"fil"},{label:"Finnish",code:"fi",iso:"fin"},{label:"French",code:"fr",iso:"fra"},{label:"Frisian",code:"fy",iso:"fry"},{label:"Galician",code:"gl",iso:"glg"},{label:"Georgian",code:"ka",iso:"kat"},{label:"German",code:"de",iso:"deu"},{label:"Greek",code:"el",iso:"ell"},{label:"Guarani",code:"gn",iso:"grn"},{label:"Gujarati",code:"gu",iso:"guj"},{label:"Hatian Creole",code:"ht",iso:"hat"},{label:"Hausa",code:"ha",iso:"hau"},{label:"Hawaiian",code:"haw",iso:"haw"},{label:"Hebrew",code:"he",iso:"heb"},{label:"Hindi",code:"hi",iso:"hin"},{label:"Hmong",code:"hmn",iso:"hmn"},{label:"Hungarian",code:"hu",iso:"hun"},{label:"Icelandic",code:"is",iso:"isl"},{label:"Igbo",code:"ig",iso:"ibo"},{label:"Ilocano",code:"ilo",iso:"ilo"},{label:"Indonesian",code:"id",iso:"ind"},{label:"Irish",code:"ga",iso:"gle"},{label:"Italian",code:"it",iso:"ita"},{label:"Japanese",code:"ja",iso:"jpn"},{label:"Javanese",code:"jv",iso:"jav"},{label:"Kannada",code:"kn",iso:"kan"},{label:"Kazakh",code:"kk",iso:"kaz"},{label:"Khmer",code:"km",iso:"khm"},{label:"Kinyarwanda",code:"rw",iso:"kin"},{label:"Konkani",code:"gom",iso:"gom"},{label:"Korean",code:"ko",iso:"kor"},{label:"Krio",code:"kri",iso:"kri"},{label:"Kurdish",code:"ku",iso:"kur"},{label:"Kurdish (Sorani)",code:"ckb",iso:"ckb"},{label:"Kyrgyz",code:"ky",iso:"kir"},{label:"Lao",code:"lo",iso:"lao"},{label:"Latin",code:"la",iso:"lat"},{label:"Latvian",code:"lv",iso:"lav"},{label:"Lingala",code:"ln",iso:"lin"},{label:"Lithuanian",code:"lt",iso:"lit"},{label:"Luganda",code:"lg",iso:"lug"},{label:"Luxembourgish",code:"lb",iso:"ltz"},{label:"Macedonian",code:"mk",iso:"mkd"},{label:"Maithili",code:"mai",iso:"mai"},{label:"Malagasy",code:"mg",iso:"mlg"},{label:"Malay",code:"ms",iso:"msa"},{label:"Malayalam",code:"ml",iso:"mal"},{label:"Maltese",code:"mt",iso:"mlt"},{label:"Maori",code:"mi",iso:"mri"},{label:"Marathi",code:"mr",iso:"mar"},{label:"Mizo",code:"lus",iso:"lus"},{label:"Mongolian",code:"mn",iso:"mon"},{label:"Myanmar",code:"my",iso:"mya"},{label:"Nepali",code:"ne",iso:"nep"},{label:"Norwegian",code:"no",iso:"nor"},{label:"Nyanja",code:"ny",iso:"nya"},{label:"Oria",code:"or",iso:"ori"},{label:"Oromo",code:"om",iso:"orm"},{label:"Pashto",code:"ps",iso:"pus"},{label:"Persian",code:"fa",iso:"fas"},{label:"Polish",code:"pl",iso:"pol"},{label:"Portugese",code:"pt",iso:"por"},{label:"Punjabi",code:"pa",iso:"pan"},{label:"Quechua",code:"qu",iso:"que"},{label:"Romanian",code:"ro",iso:"ron"},{label:"Russian",code:"ru",iso:"rus"},{label:"Samoan",code:"sm",iso:"smo"},{label:"Sanskrit",code:"sa",iso:"san"},{label:"Scots Gaelic",code:"gd",iso:"gd"},{label:"Sepedi",code:"nso",iso:"nso"},{label:"Serbian",code:"sr",iso:"srp"},{label:"Sesotho",code:"st",iso:"sto"},{label:"Shona",code:"sn",iso:"sna"},{label:"Sindhi",code:"sd",iso:"snd"},{label:"Sinhala",code:"si",iso:"sin"},{label:"Slovak",code:"sk",iso:"slk"},{label:"Slovenian",code:"sl",iso:"slv"},{label:"Somali",code:"so",iso:"som"},{label:"Spanish",code:"es",iso:"spa"},{label:"Sudanese",code:"su",iso:"sun"},{label:"Swahili",code:"sw",iso:"swa"},{label:"Swedish",code:"sv",iso:"swe"},{label:"Tagalog",code:"tl",iso:"tgl"},{label:"Tajik",code:"tg",iso:"tgk"},{label:"Tamil",code:"ta",iso:"tam"},{label:"Tatar",code:"tt",iso:"tat"},{label:"Telugu",code:"te",iso:"tel"},{label:"Thai",code:"th",iso:"tha"},{label:"Tigrinya",code:"ti",iso:"tir"},{label:"Tsonga",code:"ts",iso:"tso"},{label:"Turkish",code:"tr",iso:"tur"},{label:"Turkmen",code:"tk",iso:"tuk"},{label:"Twi",code:"ak",iso:"twi"},{label:"Ukrainian",code:"uk",iso:"ukr"},{label:"Urdu",code:"ur",iso:"urd"},{label:"Uyghur",code:"ug",iso:"uig"},{label:"Uzbek",code:"uz",iso:"uzb"},{label:"Vietnamese",code:"vi",iso:"vie"},{label:"Welsh",code:"cy",iso:"cym"},{label:"Xhosa",code:"xh",iso:"xho"},{label:"Yiddish",code:"yi",iso:"yid"},{label:"Yoruba",code:"yo",iso:"yor"},{label:"Zulu",code:"zu",iso:"zul"}],r=a(3750),d=a(5788),c=a(6225),u=a(8646),b=a(8531),h=a(8860),p=a.n(h),m=a(3967),_=a.n(m),v=e=>{let{videoRef:o,videoCaptions:a,setTime:s,activeCaption:n}=e,t=(0,i.useCallback)(e=>{o.current.currentTime=parseFloat(e.start),s(parseFloat(e.start))},[o,s]);return(0,l.jsx)("div",{className:p().root,children:a.map((e,o)=>(0,l.jsx)("button",{className:_()(p().caption,o===n?p().active:""),onClick:()=>t(e),children:e.text},o))})},g=a(4213),f=a(7066),x=a(6488),y=a(5434),k=a(8102),j=a.n(k),C=a(8294),w=()=>{let[e,o]=(0,i.useState)(""),[a,s]=(0,i.useState)(""),[h,p]=(0,i.useState)(!1),[m,_]=(0,i.useState)(!1),[k,w]=(0,i.useState)(null),[S,N]=(0,i.useState)({}),[T,B]=(0,i.useState)({value:"en",label:"English"}),[P,V]=(0,i.useState)(0),U=(0,i.useRef)(null),A=(0,i.useCallback)(()=>{o(""),s("")},[]),L=(0,i.useCallback)(e=>B(e),[]),M=(0,i.useMemo)(()=>"en"!==T.label&&S[T.value]?S[T.value]:k,[T,S,k]),Z=(0,i.useMemo)(()=>{if(!k)return 0;let e=0;for(let o=0;o<k.length-1;o++){let a=k[o],l=k[o+1];if(P>=parseFloat(a.start)&&P<parseFloat(l.start)){e=o;break}}return e},[P,k]),z=(0,i.useCallback)(async()=>{p(!0),f.Z.post("/api/videos/translateCaptions",{captions:k,language:T.value}).then(e=>{let o={...z};o[T.value]=e.data.captions,N(o)}).finally(()=>p(!1))},[T,k]),R=(0,i.useCallback)(async()=>{_(!0),f.Z.post("/api/videos/downloadTranslatedVideo",{cloudURL:e,captions:M,title:a,lang:T.label,langKey:T.value}).then(e=>{let o="".concat(a.replace(/[/\\?%*:|"<>]/g,""),"-").concat(T.label,".mp4"),l=(0,C.OY)(o);(0,C.wJ)(l).then(e=>{j().saveAs(e,o),_(!1)})})},[M,T,e,a]);return(0,l.jsx)("div",{className:n().root,children:(0,l.jsxs)("div",{className:n().content,children:[(0,l.jsxs)("h2",{className:n().title,children:[(0,l.jsx)(r.S7c,{}),"Generate Captions"]}),e?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("div",{className:n().loadedVideo,children:[(0,l.jsx)("h3",{children:a.replaceAll('"',"")}),(0,l.jsxs)("div",{className:n().videoWrapper,children:[(0,l.jsx)(b.Z,{url:e,className:n().videoPlayer,videoRef:U,timeElapsed:P,setTime:V}),M[Z]?(0,l.jsx)("p",{className:n().caption,children:M[Z].text}):null]})]}),(0,l.jsxs)("div",{className:n().videoActions,children:[(0,l.jsxs)("div",{className:n().languageSelection,children:[S[T.value]?(0,l.jsxs)("button",{onClick:R,children:["Download ",m?(0,l.jsx)(x.Z,{className:n().spinner}):(0,l.jsx)(y.uKn,{})]}):(0,l.jsxs)("button",{onClick:z,children:["Translate ",h?(0,l.jsx)(x.Z,{className:n().spinner}):(0,l.jsx)(c.vHs,{})]}),(0,l.jsx)(g.ZP,{options:t.map(e=>({value:e.code,label:e.label})),value:T,onChange:L,className:n().selector})]}),(0,l.jsxs)("button",{onClick:A,children:["Reset ",(0,l.jsx)(d.Z4w,{})]})]})]}):(0,l.jsx)(u.Z,{setDownloadURL:o,setVideoTitle:s,setVideoCaptions:w}),k?(0,l.jsx)(v,{videoRef:U,videoCaptions:M,setTime:V,activeCaption:Z}):(0,l.jsxs)("div",{className:n().seoContent,children:[(0,l.jsx)("p",{children:"This is a simple tool for you to use in order to take any Youtube video and grab the captions from the video. With those captions you can then translate them to any language you would like and see the translated captions directly on the site on the video player. Alternatively you can also download the youtube video with any captions you have generated added as optional captions in the downloaded video."}),(0,l.jsx)("p",{children:"This tool makes use of a Google Cloud NoSQL Database in order to store the information returned from the server about the requested video so that we can display this information properly to the user. At upload request time this information as well as a download URL for the video will be saved to a NoSQL document that we will use to display the information and then perform the download. The actual Mp3 file will be automatically uploaded to Firebase Cloud Storage at the time of upload request and then the request to download will use the provided cloud url."}),(0,l.jsx)("p",{children:"Follow these steps to generate captions for a Youtube video"}),(0,l.jsxs)("ol",{children:[(0,l.jsx)("li",{children:"Go to youtube and find the video you would like to download."}),(0,l.jsx)("li",{children:"Either right click the video and copy the URL or open the video and copy the URL that is in your search bar."}),(0,l.jsx)("li",{children:"Paste the copied URL into the input field on this page and then click the upload button."}),(0,l.jsx)("li",{children:"Once the video finishes uploading select the language you would like to generate captions for and then press the generate button."})]})]})]})})}},8860:function(e){e.exports={root:"CaptionSection_root__FNhGA",caption:"CaptionSection_caption__YlBj7",active:"CaptionSection_active__5utOI"}},9458:function(e){e.exports={root:"Captions_root__Hp5_i",content:"Captions_content__N4bE2",title:"Captions_title__UIRIm",seoContent:"Captions_seoContent__WHVUv",loadedVideo:"Captions_loadedVideo__b80Tr",videoPlayer:"Captions_videoPlayer__9VbGe",videoWrapper:"Captions_videoWrapper__fs2qY",caption:"Captions_caption__B3jOS",videoActions:"Captions_videoActions__c3Wob",languageSelection:"Captions_languageSelection__JchAk",spinner:"Captions_spinner__fuNNw",disabled:"Captions_disabled____T8p",selector:"Captions_selector__hEDB7"}},4841:function(e){e.exports={slideContainer:"Slider_slideContainer__AUhUK",progress:"Slider_progress__F7tVQ",progressBar:"Slider_progressBar__vnYab",slider:"Slider_slider__xVx5J"}},7893:function(e){e.exports={spinner:"Spinner_spinner__JwdLn",rotate:"Spinner_rotate__OrvyK",path:"Spinner_path__AjKgP",dash:"Spinner_dash__k6wx3"}},6662:function(e){e.exports={inputPaper:"UploadVideoBox_inputPaper__8t9Nd",actions:"UploadVideoBox_actions__qr7J7",submitButton:"UploadVideoBox_submitButton__RMGVe",disabledButton:"UploadVideoBox_disabledButton__fuZ3a",loadingContainer:"UploadVideoBox_loadingContainer__lNv2V",spinner:"UploadVideoBox_spinner__W9_ZP"}},5799:function(e){e.exports={root:"VideoPlayer_root__efyT2",backdrop:"VideoPlayer_backdrop__M7vq3",controls:"VideoPlayer_controls__uyVTO",progressBar:"VideoPlayer_progressBar__7AwvP",leftControls:"VideoPlayer_leftControls__Uz4PO",playButton:"VideoPlayer_playButton__8Xd65",volumeContainer:"VideoPlayer_volumeContainer__f_WsB",fullscreenButton:"VideoPlayer_fullscreenButton___OiIW"}}},function(e){e.O(0,[57,627,123,213,774,888,179],function(){return e(e.s=738)}),_N_E=e.O()}]);