(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[706],{7856:function(e,t,o){(window.__NEXT_P=window.__NEXT_P||[]).push(["/youtube-to-mp3",function(){return o(8983)}])},6488:function(e,t,o){"use strict";var n=o(5893),r=o(7893),a=o.n(r),s=o(3967),l=o.n(s);t.Z=e=>{let{className:t}=e;return(0,n.jsx)("svg",{className:a().spinner,viewBox:"0 0 50 50",children:(0,n.jsx)("circle",{className:l()(a().path,t),cx:"25",cy:"25",r:"20",strokeWidth:"3"})})}},8646:function(e,t,o){"use strict";var n=o(5893),r=o(7294),a=o(6662),s=o.n(a),l=o(7066),i=o(6488);t.Z=e=>{let{setDownloadURL:t,setVideoTitle:o,setVideoCaptions:a,setAudioURL:u}=e,[d,c]=(0,r.useState)(""),[h,p]=(0,r.useState)(!1),_=()=>p(!0),v=()=>p(!1),f=(0,r.useMemo)(()=>{let e=d.match(/^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|\&v=|\?v=)([^#\&\?]*).*/);return e},[d]),m=(0,r.useCallback)(async()=>{_(),l.Z.post("/api/videos/youtubeUpload",{youtubeURL:d}).then(e=>{console.log("????????",e),o(e.data.title),t(e.data.downloadURL),a&&a(e.data.subtitles),u&&u(e.data.audioURL)}).finally(v)},[u,t,a,o,d]);return(0,n.jsxs)("div",{className:s().inputPaper,children:[(0,n.jsx)("h4",{children:"Please enter a proper Youtube URL"}),(0,n.jsxs)("div",{className:s().actions,children:[(0,n.jsx)("input",{placeholder:"youtube.com/watch?v=yOu-TuBe_42",onChange:e=>{c(e.currentTarget.value)},value:d,disabled:h}),h?(0,n.jsx)("div",{className:s().loadingContainer,children:(0,n.jsx)(i.Z,{className:s().spinner})}):(0,n.jsx)("button",{className:f?s().submitButton:s().disabledButton,onClick:m,children:"Upload"})]})]})}},8531:function(e,t,o){"use strict";o.d(t,{Z:function(){return f}});var n=o(5893),r=o(7294),a=o(7489),s=o(3967),l=o.n(s),i=o(5799),u=o.n(i),d=o(2075),c=o(4841),h=o.n(c),p=e=>{let{value:t,className:o,progressBar:r,onChange:a,onChangeComitted:s}=e;return(0,n.jsxs)("div",{className:l()(h().slideContainer,o),children:[(0,n.jsx)("span",{className:l()(h().progress,r?h().progressBar:""),style:{width:"".concat((t?t/100:0)*100,"%")}}),(0,n.jsx)("input",{type:"range",min:"0",max:"100",value:null!=t?t:0,className:l()(h().slider,r?h().progressBar:""),onInput:e=>a(parseInt(e.currentTarget.value)),onMouseUp:s?e=>s(parseInt(e.currentTarget.value)):void 0})]})},_=o(5434);let v=e=>e>9?e.toString():e>0?"0".concat(e):"00";var f=e=>{var t,o;let{url:s,className:i,videoRef:c,timeElapsed:h,setTime:f}=e,[m,x]=(0,r.useState)(!1),[b,w]=(0,r.useState)(100),[j,y]=(0,r.useState)(0),[g,N]=(0,r.useState)(!1),[C,k]=(0,r.useState)(null),[B,S]=(0,r.useState)(!1),T=(0,r.useRef)(null),P=(0,r.useCallback)(()=>{var e,t;m?(x(!1),null===(e=c.current)||void 0===e||e.pause()):(x(!0),null===(t=c.current)||void 0===t||t.play())},[m,c]),V=()=>{a.Z.toggle(T.current)};(0,r.useEffect)(()=>{let e=e=>{e.preventDefault(),"Space"===e.code&&P();let t=c.current.currentTime,o=c.current.duration;if("ArrowRight"===e.code){let e=t+3;e>o?(c.current.currentTime=o,c.current.pause(),x(!1),f(o)):(c.current.currentTime=e,f(e))}if("ArrowLeft"===e.code){let e=t-3;e<0?(c.current.currentTime=0,f(0)):(c.current.currentTime=e,f(e))}},t=()=>S(a.Z.isFullscreen);return window.addEventListener("keydown",e),a.Z.on("change",t),()=>{window.removeEventListener("keydown",e),a.Z.off("change",t)}},[B,f,P,c]),(0,r.useEffect)(()=>{if(c&&m&&!g){C&&clearInterval(C);let e=setInterval(()=>{f(c.current.currentTime)},25);return k(e),()=>clearInterval(e)}C&&clearInterval(C),k(null)},[g,m]);let U=(0,r.useCallback)(e=>{w(e),c.current.volume=e/100},[c]),Z=(0,r.useCallback)(e=>{let t=e/100*c.current.duration;c.current.currentTime=t,f(t)},[c]),L=-1===j?"--":v(Math.round(j%60)),M=v(Math.floor((null!=h?h:0)%60));return(0,n.jsxs)("div",{className:l()(i,u().root),ref:T,onDoubleClick:V,children:[(0,n.jsx)("div",{className:u().backdrop,onClick:P}),(0,n.jsx)("video",{src:s,ref:c,onLoadedMetadata:e=>y(e.currentTarget.duration)}),(0,n.jsxs)("div",{className:u().controls,children:[(0,n.jsx)(p,{className:u().progressBar,progressBar:!0,value:h/(null===(t=c.current)||void 0===t?void 0:t.duration)*100,onChange:Z}),(0,n.jsxs)("div",{className:u().leftControls,children:[(0,n.jsx)(d.Z,{onClick:P,className:u().playButton,children:m?(0,n.jsx)(_.hPq,{}):(0,n.jsx)(_.Nhx,{})}),(0,n.jsx)("div",{className:u().volumeContainer,children:(0,n.jsx)(p,{value:b,onChange:U})}),(0,n.jsxs)("p",{children:[Math.floor((null!=h?h:0)/60),":",M," / ",-1===j?"--":Math.floor(j/60),":",L]})]}),(0,n.jsx)(d.Z,{className:u().fullscreenButton,onClick:V,children:a.Z.isFullscreen?(0,n.jsx)(_.bAO,{}):(0,n.jsx)(_.yvD,{})})]})]})}},8294:function(e,t,o){"use strict";o.d(t,{OY:function(){return s},wJ:function(){return l}});var n=o(6042),r=o(6650);let a=()=>(0,r.cF)(n.app,"gs://erik-dev-uploaded-videos"),s=e=>(0,r.iH)(a(),e),l=async e=>await (0,r.Br)(e)},8983:function(e,t,o){"use strict";o.r(t),o.d(t,{default:function(){return f}});var n=o(5893),r=o(7294),a=o(8841),s=o.n(a),l=o(3990),i=o(8646),u=o(8531),d=o(8102),c=o.n(d),h=o(8294),p=o(5434),_=o(6488),v=o(5788),f=()=>{let[e,t]=(0,r.useState)(""),[o,a]=(0,r.useState)(""),[d,f]=(0,r.useState)(!1),[m,x]=(0,r.useState)(0),b=(0,r.useRef)(null),w=(0,r.useCallback)(()=>{t(""),a("")},[]),j=(0,r.useCallback)(()=>{f(!0);let e=(0,h.OY)(o.replace(/[/\\?%*:|"<>]/g,"")+".mp3");(0,h.wJ)(e).then(e=>{c().saveAs(e,"".concat(o,".mp3")),f(!1)})},[o]);return(0,n.jsx)("div",{className:s().root,children:(0,n.jsxs)("div",{className:s().content,children:[(0,n.jsxs)("h2",{className:s().title,children:[(0,n.jsx)(l.h49,{}),"to Mp3"]}),e?(0,n.jsxs)("div",{className:s().loadedVideo,children:[(0,n.jsx)("h3",{children:o.replaceAll('"',"")}),(0,n.jsx)(u.Z,{url:e,className:s().videoPlayer,videoRef:b,timeElapsed:m,setTime:x}),(0,n.jsxs)("div",{className:s().videoActions,children:[(0,n.jsxs)("button",{onClick:j,children:["Download ",d?(0,n.jsx)(_.Z,{className:s().spinner}):(0,n.jsx)(p.uKn,{})]}),(0,n.jsxs)("button",{onClick:w,children:["Reset ",(0,n.jsx)(v.Z4w,{})]})]})]}):(0,n.jsx)(i.Z,{setDownloadURL:t,setVideoTitle:a}),(0,n.jsxs)("div",{className:s().seoContent,children:[(0,n.jsx)("p",{children:"This is a simple tool for you to use in order to take any Youtube video that you find and turn that videos audio into a downloadable Mp3 file. This tool makes use of the youtubedl npm package in order to grab important information from a given youtube video such as the title and thumbnail and returnt that to the client to display. From there we can decide if this video is what we want to download and use the data returned from the package in order to download our new Mp3 file."}),(0,n.jsx)("p",{children:"This tool makes use of a Google Cloud NoSQL Database in order to store the information returned from the server about the requested video so that we can display this information properly to the user. At upload request time this information as well as a download URL for the video will be saved to a NoSQL document that we will use to display the information and then perform the download. The actual Mp3 file will be automatically uploaded to Firebase Cloud Storage at the time of upload request and then the request to download will use the provided cloud url."}),(0,n.jsx)("p",{children:"Follow these steps to download a Youtube video"}),(0,n.jsxs)("ol",{children:[(0,n.jsx)("li",{children:"Go to youtube and find the video you would like to download."}),(0,n.jsx)("li",{children:"Either right click the video and copy the URL or open the video and copy the URL that is in your search bar."}),(0,n.jsx)("li",{children:"Paste the copied URL into the input field on this page and then click the upload button."}),(0,n.jsx)("li",{children:"Once the video finishes uploading click the download button and your new Mp3 file will be available!"})]})]})]})})}},4841:function(e){e.exports={slideContainer:"Slider_slideContainer__AUhUK",progress:"Slider_progress__F7tVQ",progressBar:"Slider_progressBar__vnYab",slider:"Slider_slider__xVx5J"}},7893:function(e){e.exports={spinner:"Spinner_spinner__JwdLn",rotate:"Spinner_rotate__OrvyK",path:"Spinner_path__AjKgP",dash:"Spinner_dash__k6wx3"}},6662:function(e){e.exports={inputPaper:"UploadVideoBox_inputPaper__8t9Nd",actions:"UploadVideoBox_actions__qr7J7",submitButton:"UploadVideoBox_submitButton__RMGVe",disabledButton:"UploadVideoBox_disabledButton__fuZ3a",loadingContainer:"UploadVideoBox_loadingContainer__lNv2V",spinner:"UploadVideoBox_spinner__W9_ZP"}},5799:function(e){e.exports={root:"VideoPlayer_root__efyT2",backdrop:"VideoPlayer_backdrop__M7vq3",controls:"VideoPlayer_controls__uyVTO",progressBar:"VideoPlayer_progressBar__7AwvP",leftControls:"VideoPlayer_leftControls__Uz4PO",playButton:"VideoPlayer_playButton__8Xd65",volumeContainer:"VideoPlayer_volumeContainer__f_WsB",fullscreenButton:"VideoPlayer_fullscreenButton___OiIW"}},8841:function(e){e.exports={root:"Youtube_root__sLW__",content:"Youtube_content__qSG_7",title:"Youtube_title__OghM_",seoContent:"Youtube_seoContent__DaOlU",loadedVideo:"Youtube_loadedVideo__yYIl6",videoPlayer:"Youtube_videoPlayer__QJWHs",videoActions:"Youtube_videoActions__TtJ_A",spinner:"Youtube_spinner__Z_vTb"}}},function(e){e.O(0,[57,123,774,888,179],function(){return e(e.s=7856)}),_N_E=e.O()}]);